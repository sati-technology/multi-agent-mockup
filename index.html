<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Multi-Agent Code Studio</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Header -->
      <div class="header">
        <div class="header-title">
          <span>Multi-Agent Studio</span>
          <div class="status-indicator"></div>
          <span class="agent-count" style="font-size: 12px; color: #8b949e"
            >4 agents</span
          >
        </div>
        <div class="header-actions">
          <button class="action-btn" onclick="showComparison()">Compare</button>
          <button class="action-btn" onclick="deployBest()">Deploy</button>
        </div>
      </div>

      <!-- Control Panel -->
      <div class="control-panel">
        <div class="prompt-input-container">
          <input
            type="text"
            class="prompt-input"
            placeholder="Enter prompt for all agents..."
            value="Create a toggle component with smooth animations"
          />
          <button class="broadcast-btn" onclick="broadcastPrompt()">
            Broadcast to All
          </button>
        </div>
        <div class="agent-controls">
          <div class="agent-controls-label">Active Agents:</div>
          <div class="agent-selector">
            <div class="agent-chip active" onclick="toggleAgent(1)">
              Claude-1
            </div>
            <div class="agent-chip active" onclick="toggleAgent(2)">
              Claude-2
            </div>
            <div class="agent-chip active" onclick="toggleAgent(3)">
              GPT-4-1
            </div>
            <div class="agent-chip active" onclick="toggleAgent(4)">
              GPT-4-2
            </div>
          </div>
        </div>
      </div>

      <!-- Agent Tabs (Mobile) -->
      <div class="agent-tabs">
        <div class="agent-tabs-list">
          <button class="agent-tab active" onclick="switchAgent(1)">
            Claude-1
          </button>
          <button class="agent-tab" onclick="switchAgent(2)">Claude-2</button>
          <button class="agent-tab" onclick="switchAgent(3)">GPT-4-1</button>
          <button class="agent-tab" onclick="switchAgent(4)">GPT-4-2</button>
        </div>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Desktop: Agent Grid -->
        <div class="agent-grid">
          <!-- Agent 1 - Claude-1 -->
          <div class="agent-pane" id="agent-1">
            <div class="agent-header">
              <div class="agent-info">
                <div class="agent-name">Claude-1</div>
                <div class="agent-status">
                  Working<span class="typing-indicator"></span>
                </div>
              </div>
              <div class="agent-actions">
                <button class="action-btn" onclick="commitAgent(1)">
                  Commit
                </button>
                <button class="action-btn" onclick="resetAgent(1)">
                  Reset
                </button>
              </div>
            </div>
            <div class="agent-content">
              <div class="code-editor">
                <div class="code-line">
                  import React, { useState } from 'react';
                </div>
                <div class="code-line">import './Toggle.css';</div>
                <div class="code-line"></div>
                <div class="code-line">
                  export const Toggle = ({ label, onChange }) => {
                </div>
                <div class="code-line">
                  const [checked, setChecked] = useState(false);
                </div>
                <div class="code-line"></div>
                <div class="code-line">const handleToggle = () => {</div>
                <div class="code-line">setChecked(!checked);</div>
                <div class="code-line">onChange?.(!checked);</div>
                <div class="code-line">};</div>
                <div class="code-line"></div>
                <div class="code-line">return (</div>
                <div class="code-line">
                  &lt;label className="toggle-container"&gt;
                </div>
                <div class="code-line">
                  &lt;input type="checkbox" checked={checked}
                  onChange={handleToggle} /&gt;
                </div>
                <div class="code-line">
                  &lt;span className="toggle-slider"&gt;&lt;/span&gt;
                </div>
                <div class="code-line">
                  {label && &lt;span&gt;{label}&lt;/span&gt;}
                </div>
                <div class="code-line">&lt;/label&gt;</div>
                <div class="code-line">);</div>
                <div class="code-line">};</div>
              </div>
              <div class="preview-panel">
                <div class="preview-content">
                  <div style="display: flex; align-items: center; gap: 12px">
                    <label
                      style="
                        position: relative;
                        display: inline-block;
                        width: 48px;
                        height: 24px;
                      "
                    >
                      <input
                        type="checkbox"
                        style="opacity: 0; width: 0; height: 0"
                      />
                      <span
                        style="
                          position: absolute;
                          cursor: pointer;
                          top: 0;
                          left: 0;
                          right: 0;
                          bottom: 0;
                          background-color: #ccc;
                          transition: 0.4s;
                          border-radius: 34px;
                        "
                      >
                        <span
                          style="
                            position: absolute;
                            content: '';
                            height: 16px;
                            width: 16px;
                            left: 4px;
                            bottom: 4px;
                            background-color: white;
                            transition: 0.4s;
                            border-radius: 50%;
                          "
                        ></span>
                      </span>
                    </label>
                    <span>Toggle Option</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="success-overlay" id="success-1">
              <div class="success-message">✓ Solution Working!</div>
            </div>
          </div>

          <!-- Agent 2 - Claude-2 -->
          <div class="agent-pane" id="agent-2">
            <div class="agent-header">
              <div class="agent-info">
                <div class="agent-name">Claude-2</div>
                <div class="agent-status">
                  Testing<span class="typing-indicator"></span>
                </div>
              </div>
              <div class="agent-actions">
                <button class="action-btn" onclick="commitAgent(2)">
                  Commit
                </button>
                <button class="action-btn" onclick="resetAgent(2)">
                  Reset
                </button>
              </div>
            </div>
            <div class="agent-content">
              <div class="code-editor">
                <div class="code-line">import React from 'react';</div>
                <div class="code-line">
                  import styled from 'styled-components';
                </div>
                <div class="code-line"></div>
                <div class="code-line">const ToggleWrapper = styled.div`</div>
                <div class="code-line">display: flex;</div>
                <div class="code-line">align-items: center;</div>
                <div class="code-line">gap: 12px;</div>
                <div class="code-line">`;</div>
                <div class="code-line"></div>
                <div class="code-line">const ToggleSwitch = styled.label`</div>
                <div class="code-line">position: relative;</div>
                <div class="code-line">width: 52px;</div>
                <div class="code-line">height: 28px;</div>
                <div class="code-line">
                  background: ${props => props.checked ? '#10b981' : '#e5e7eb'};
                </div>
                <div class="code-line">border-radius: 9999px;</div>
                <div class="code-line">cursor: pointer;</div>
                <div class="code-line">transition: background 200ms;</div>
                <div class="code-line">`;</div>
              </div>
              <div class="preview-panel">
                <div class="preview-content">
                  <div style="text-align: center; color: #ef4444">
                    ⚠️ Build Error<br />
                    <small>styled-components not found</small>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Agent 3 - GPT-4-1 -->
          <div class="agent-pane" id="agent-3">
            <div class="agent-header">
              <div class="agent-info">
                <div class="agent-name">GPT-4-1</div>
                <div class="agent-status">
                  Analyzing<span class="typing-indicator"></span>
                </div>
              </div>
              <div class="agent-actions">
                <button class="action-btn" onclick="commitAgent(3)">
                  Commit
                </button>
                <button class="action-btn" onclick="resetAgent(3)">
                  Reset
                </button>
              </div>
            </div>
            <div class="agent-content">
              <div class="code-editor">
                <div class="code-line">
                  import React, { useState } from 'react';
                </div>
                <div class="code-line"></div>
                <div class="code-line">
                  const Toggle = ({ defaultChecked = false, onChange, size =
                  'medium' }) => {
                </div>
                <div class="code-line">
                  const [isChecked, setIsChecked] = useState(defaultChecked);
                </div>
                <div class="code-line"></div>
                <div class="code-line">const sizes = {</div>
                <div class="code-line">
                  small: { width: 40, height: 20, thumb: 16 },
                </div>
                <div class="code-line">
                  medium: { width: 52, height: 28, thumb: 24 },
                </div>
                <div class="code-line">
                  large: { width: 64, height: 36, thumb: 32 }
                </div>
                <div class="code-line">};</div>
                <div class="code-line"></div>
                <div class="code-line">const handleChange = () => {</div>
                <div class="code-line">const newValue = !isChecked;</div>
                <div class="code-line">setIsChecked(newValue);</div>
                <div class="code-line">onChange?.(newValue);</div>
                <div class="code-line">};</div>
              </div>
              <div class="preview-panel">
                <div class="preview-content">
                  <div style="display: flex; flex-direction: column; gap: 12px">
                    <div>Small: [preview]</div>
                    <div>Medium: [preview]</div>
                    <div>Large: [preview]</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Agent 4 - GPT-4-2 -->
          <div class="agent-pane" id="agent-4">
            <div class="agent-header">
              <div class="agent-info">
                <div class="agent-name">GPT-4-2</div>
                <div class="agent-status">Idle</div>
              </div>
              <div class="agent-actions">
                <button class="action-btn" onclick="commitAgent(4)">
                  Commit
                </button>
                <button class="action-btn" onclick="resetAgent(4)">
                  Reset
                </button>
              </div>
            </div>
            <div class="agent-content">
              <div class="code-editor">
                <div class="code-line">// Waiting for task...</div>
                <div class="code-line"></div>
                <div class="code-line">
                  // Previous approach failed type checking
                </div>
                <div class="code-line">
                  // Retrying with TypeScript implementation
                </div>
              </div>
              <div class="preview-panel">
                <div class="preview-content">
                  <div style="text-align: center; color: #8b949e">
                    Awaiting instructions...
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Mobile: Single Agent View -->
        <div class="single-agent-view">
          <div class="agent-pane" id="mobile-agent">
            <!-- Content will be dynamically populated -->
          </div>
        </div>

        <!-- Sidebar -->
        <div class="sidebar">
          <div class="sidebar-section">
            <div class="sidebar-title" onclick="toggleSection(this)">
              Performance Metrics
              <span class="collapse-icon">▼</span>
            </div>
            <div class="sidebar-content">
              <div class="metric-item">
                <span class="metric-label">Success Rate</span>
                <span class="metric-value">25%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 25%"></div>
              </div>
              <div class="metric-item" style="margin-top: 12px">
                <span class="metric-label">Avg. Time</span>
                <span class="metric-value">3m 42s</span>
              </div>
              <div class="metric-item">
                <span class="metric-label">Total Attempts</span>
                <span class="metric-value">4</span>
              </div>
            </div>
          </div>
          <div class="sidebar-section">
            <div class="sidebar-title" onclick="toggleSection(this)">
              Agent Status
              <span class="collapse-icon">▼</span>
            </div>
            <div class="sidebar-content">
              <div class="metric-item">
                <span class="metric-label">Claude-1</span>
                <span class="metric-value" style="color: #3fb950"
                  >✓ Success</span
                >
              </div>
              <div class="metric-item">
                <span class="metric-label">Claude-2</span>
                <span class="metric-value" style="color: #f85149"
                  >✗ Failed</span
                >
              </div>
              <div class="metric-item">
                <span class="metric-label">GPT-4-1</span>
                <span class="metric-value" style="color: #f0883e"
                  >⚡ Running</span
                >
              </div>
              <div class="metric-item">
                <span class="metric-label">GPT-4-2</span>
                <span class="metric-value" style="color: #8b949e">◉ Idle</span>
              </div>
            </div>
          </div>
          <div class="sidebar-section">
            <div class="sidebar-title" onclick="toggleSection(this)">
              Resources
              <span class="collapse-icon">▼</span>
            </div>
            <div class="sidebar-content">
              <div class="metric-item">
                <span class="metric-label">CPU Usage</span>
                <span class="metric-value">42%</span>
              </div>
              <div class="metric-item">
                <span class="metric-label">Memory</span>
                <span class="metric-value">2.3 GB</span>
              </div>
              <div class="metric-item">
                <span class="metric-label">API Calls</span>
                <span class="metric-value">127</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="script.js"></script>
  </body>
</html>
